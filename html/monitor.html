{% extends "mycapbase.html" %}

{% block mycap_dashboard %}
<section class="content-header">
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li>
    <li>Monitor</li>
  </ol>
</section>
{% endblock %} 

{% block mycap_extrajs %}

<!--[if lte IE 8]><script language="javascript" type="text/javascript" src={{STATIC_URL}}plugins/flot/excanvas.min.js"></script><![endif]-->
<script type="text/javascript" src="{{STATIC_URL}}platform/js/common/ws4redis.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}plugins/flot/jquery.flot.min.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}plugins/flot/jquery.flot.time.min.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}plugins/flot/jquery.flot.symbol.min.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}plugins/pnotify/pnotify.custom.min.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}plugins/ionsound/ion.sound.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}plugins/responsive/dataTables.responsive.js"></script>

<script src="{{STATIC_URL}}platform/js/operation-monitor.js"></script>

<script type="text/javascript">
    rss = typeof rss === 'undefined' ? {} : rss;
    rss.websocket_url = '{{ websocket_url }}';
    rss.websocket_type = '{{ websocket_msg_type }}';
</script>
{% endblock %}

{% block mycap_extrastyle %}
    <link href="{{STATIC_URL}}plugins/pnotify/pnotify.custom.min.css" media="all" rel="stylesheet" type="text/css" />
    <link href="{{STATIC_URL}}plugins/responsive/dataTables.responsive.css" media="all" rel="stylesheet" type="text/css" />
{% endblock %}

{% block mycap_content %}

<section class="content">
  <div class="row">
    <div class="col-md-12">
      <div class="box box-solid box-primary">
        <div class="box-header">
          <h3 class="box-title">Monitor</h3>
          <button id="btn_save_position" class="btn btn-xs btn-default pull-right hidden" type="button">Save Position</button>
          <div id="btn_edit_position" class="btn-group pull-right">
            <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Organize View <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
              <li><a href="#" id="btn_config_box_position">Config Panel Position</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="#" id="btn_reset_position">Reset Position</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" id="monitor_panel">
    <div class="col-md-4" id="monitor_column_first">
      <div class="box box-primary" id="monitor_box_account">
        <div class="box-body">
          <table id="accts_list" class="table table-striped table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Account</th>
                <th>Company</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
      <div class="box box-primary" id="monitor_box_server">
        <div class="box-body">
          <table id="server_list" class="table table-striped table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>IP</th>
                <th>Host Name</th>
                <th>Location</th>
                <th>CPU</th>
                <th>Memory</th>
                <th>Process Normal/Total</th>
              </tr>
            </thead>
          </table>
          <div id="line-chart" style="width: 100%; height: 200px;"></div>
        </div>
      </div>
    </div>

    <div class="col-md-4" id="monitor_column_second">
      <div class="box box-primary" id="monitor_box_process">
        <div class="box-body">
          <table id="process_state" class="table table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Host Name</th>
                <th>Process Name</th>
                <th>Process Type</th>
                <th>Process Status</th>
                <th>Update Time</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
      <div class="box box-primary" id="monitor_box_market">
        <div class="box-body">
          <table id="market_state" class="table table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Connection Name</th>
                <th>Connection Type</th>
                <th>Login Status</th>
                <th>Connection Status</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
      <div class="box box-primary" id="monitor_box_program">
        <div class='box-body'>
          <table id="program_info" class="table table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Host Name</th>
                <th>Trading Program</th>
                <th>Output</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <div class="col-md-4" id="monitor_column_third">
      <div class="box box-primary" id="monitor_box_strategy">
        <div class="box-body">
          <table id="strategy_list" class="table table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Strategy</th>
                <th>Account</th>
                <th>Process</th>
                <th>Product</th>
                <th>Symbol</th>
                <th>Strategy Status</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
      <div class="box box-primary" id="monitor_box_log">
        <div class="box-body">
          <table id="log_list" class="table table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Log Level</th>
                <th>Log Info</th>
                <th>Time</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
      <div class="box box-primary" id="monitor_box_statistics">
        <div class="box-body">
          <table id="statistics_list" class="table table-hover dataTable display nowrap" cellspacing="0" width="100%">
            <thead>
              <tr>
                <th>Process Normal/Total</th>
                <th>Server Normal/Total</th>
                <th>Strategy Normal/Total</th>
                <th>Market Normal/Total</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    
  </div>
</section>

{% endblock %}